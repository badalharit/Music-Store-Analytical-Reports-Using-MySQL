<!DOCTYPE html>
<html lang="en">
<head>
    <title>Music Store Analytics - Top Genres</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">    
    <link rel="stylesheet" href="/static/css/dashboard-highchart.css">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="/static/js/script.js"></script>
</head>
<body>
    
    {% include "includes/header.html" %}

    <div class="container mt-5">
        <figure class="highcharts-figure">
            <div id="container"></div>
        </figure>
    </div>

    {% include "includes/footer.html" %}
</body>
<script>
     Highcharts.chart('container', {
        chart: {
            type: 'pie'
        },
        title: {
            text: 'Music Genre Sales Distribution'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.y}</b> sales ({point.percentage:.1f}%)'
        },
        accessibility: {
            point: {
                valueSuffix: '%'
            }
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                showInLegend: true, 
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.y} ({point.percentage:.1f}%)'
                }
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            itemStyle: {
                fontWeight: 'bold',
                fontSize: '14px'
            }
        },
        series: [{
            name: 'Total Sales',
            colorByPoint: true,
            data: [
                { name: 'Rock', y: 2635 },
                { name: 'Metal', y: 619 },
                { name: 'Alternative & Punk', y: 492 },
                { name: 'Latin', y: 167 },
                { name: 'R&B/Soul', y: 159 },
                { name: 'Blues', y: 124 },
                { name: 'Jazz', y: 121 },
                { name: 'Alternative', y: 117 },
                { name: 'Easy Listening', y: 74 },
                { name: 'Pop', y: 63 },
                { name: 'Electronica/Dance', y: 55 },
                { name: 'Classical', y: 47 },
                { name: 'Reggae', y: 35 },
                { name: 'Hip Hop/Rap', y: 33 },
                { name: 'Heavy Metal', y: 8 },
                { name: 'Soundtrack', y: 5 },
                { name: 'TV Shows', y: 2 },
                { name: 'Drama', y: 1 }
            ]
        }]
    });
</script>
</html>
